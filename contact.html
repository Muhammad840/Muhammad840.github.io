<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Menatours</title>
    <link rel="icon" href="img/logo/title.png" type="image/icon type">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&family=Roboto&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/intl-tel-input-master/src/css/intlTelInput.css">
    <link rel="stylesheet" href="styles/style.css" type="text/css">
</head>
<body>
    <header class="ofcontact">
        <nav class="nav flatNav">
            <div class="nav-content">
                <div id="logo">
                    <a href="index.html">
                        <img src="img\logo\menatours-Egypt-37658-1554118075-odg2.png" alt="" width="180px">
                    </a>
                </div>
                <ul class="right-nav">
                    <li><a href="index.html">Home</a></li>
                    <li class="trig"><a href="">Corporate Travel Management</a>
                        <ul class="dropdown">
                            <li><a href="">Getting Started</a>
                                <ul class="mini-dropdown">
                                    <li><a href="">Corporate Travel Policy</a></li>
                                </ul>
                            </li>
                            <li><a href="">Engaging Travelers</a>
                                <ul class="mini-dropdown">
                                    <li><a href="">Staying Overnight</a></li>
                                    <li><a href="">Travel Booking Services</a></li>
                                </ul>
                            </li>
                            <li><a href="">Managing Risk</a>
                                <ul class="mini-dropdown">
                                    <li><a href="">Traveler Care</a></li>
                                </ul>
                            </li>
                            <li><a href="">Business Traveler Savings</a>
                                <ul class="mini-dropdown">
                                    <li><a href="">Supplier Management</a></li>
                                </ul>
                            </li>
                            <li><a href="">Travel Consulting</a>
                                <ul class="mini-dropdown">
                                    <li><a href="">Travel Services Outsourcing</a></li>
                                    <li><a href="">Travel Expense Strategy</a></li>
                                    <li><a href="">Driving Action</a></li>
                                </ul>
                            </li>
                            <li><a href="">Business Traveler Services</a></li>
                        </ul>
                    </li>
                    <!-- <li><a href="">Meetings And Events</a></li> -->
                    <li class="trig"><a href="services.html">Services</a>
                        <ul class="dropdown">
                            <li><a href="">Ground Handling</a></li>
                            <li><a href="">Hotels and Cruises</a></li>
                            <li><a href="">Our Fleet</a></li>
                            <li><a href="">Airline Services</a></li>
                            <li><a href="">Signature Services</a></li>
                        </ul>
                    </li>
                    <!-- <li><a href="">Airline Services</a></li> -->
                    <li class="trig"><a href="about.html">About</a>
                        <ul class="dropdown">
                            <li><a href="about.html#history">Our History</a></li>
                            <li><a href="">Our Presence</a></li>
                            <li><a href="about.html#experts">Our Experts</a></li>
                            <li><a href="about.html#clients">Clients and Testimonials</a></li>
                            <li><a href="">Our Strategy</a></li>
                            <li><a href="about.html#leadership">Our Leadership</a></li>
                        </ul>
                    </li>
                    <li class="switch">
                        <div class="switch__control">
                            <i class="switch__icon fa-regular fa-sun off"></i>
                            <i class="switch__icon fa-regular fa-moon"></i>
                        </div>
                    </li>
                </ul>  
                <div class="menu" id="menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div class="hamburger-holder trans">
                <div class="container hamburger-menu">
                    <li class="item">
                        Home
                    </li>
                    <li class="item">
                        <span>Corporate Travel Management</span>
                        <i class="fa-solid fa-chevron-left"></i>
                    </li>
                    <ul class="mini-items trans">
                        <li class="mini-item"><a href="">Travel Services Outsourcing</a></li>
                        <li class="mini-item"><a href="">Travel Expense Strategy</a></li>
                        <li class="mini-item"><a href="">Driving Action</a></li>
                    </ul>
                    <li class="item">
                        <span>Services</span>
                        <i class="fa-solid fa-chevron-left"></i>
                    </li>
                    <ul class="mini-items trans">
                        <li class="mini-item"><a href="">Ground Handling</a></li>
                        <li class="mini-item"><a href="">Hotels and Cruises</a></li>
                        <li class="mini-item"><a href="">Our Fleet</a></li>
                        <li class="mini-item"><a href="">Airline Services</a></li>
                        <li class="mini-item"><a href="">Signature Services</a></li>
                    </ul>
                    <li class="item">
                        <span>About</span>
                        <i class="fa-solid fa-chevron-left"></i>
                    </li>
                    <ul class="mini-items trans">
                        <li class="mini-item"><a href="">Our History</a></li>
                        <li class="mini-item"><a href="">Our Presence</a></li>
                        <li class="mini-item"><a href="">Our Experts</a></li>
                        <li class="mini-item"><a href="">Clients and Testimonials</a></li>
                        <li class="mini-item"><a href="">Our Strategy</a></li>
                        <li class="mini-item"><a href="">Our Leadership</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="contact">
            <div class="modal__box">
                <div class="modal__left">
                    <h3>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Hic, excepturi!</h3>
                    <div class="contact__details">
                        <div class="contact__item">
                            <i class="fa-solid fa-phone"></i>
                            <span>+20&nbsp; 2&nbsp; 3748&nbsp; 2231</span>
                        </div>
                        <div class="contact__item">
                            <i class="fa-solid fa-envelope"></i>
                            <span>business@menatours.com.eg</span>
                        </div>
                        <div class="contact__item">
                            <i class="fa-solid fa-fax"></i>
                            <span>+20&nbsp; 2&nbsp; 3335&nbsp; 4149</span>
                        </div>
                    </div>
                </div>
                <div class="content">
                    <div class="modal__right">
                        <h3>Get in touch</h3>
                        <div class="close">&Cross;</div>
                        <p>
                            Leave us a message or input your contact info and we'll reach out to you ASAP.
                        </p>
                        <form class="modal__form" id="contact-form">
                            <div class="fullname">
                                <div class="linput first-name">
                                    <label for="first-name" class="first-name-label">First Name</label>
                                    <input type="text" id="first-name" name="from_name">
                                </div>
                                <div class="linput last-name">
                                    <label for="last-name" class="last-name-label">Last Name</label>
                                    <input type="text" id="last-name" name="from_last_name">
                                </div>
                            </div>
                            <div class="linput email">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="user_email">
                            </div>
                            <div class="linput phone">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="user_phone">
                            </div>
                            <div class="linput company">
                                <label for="company">Company</label>
                                <input type="text" id="company" name="company">
                            </div>
                            <div class="linput message">
                                <label for="message">Message</label>
                                <textarea name="message" id="message-content" cols="30" rows="5"></textarea>
                            </div>
                            <div id="contact-message">
                                <i></i>
                                <h4></h4>
                            </div>
                            <div class="send">
                                <button type="submit" id="message-submit">Send</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="assets/intl-tel-input-master/build/js/intlTelInput.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // https://dashboard.emailjs.com/admin/account
            emailjs.init('tNKx2dI328q0zkZ-e');
        })();
    </script>
    <script type="text/javascript">
        window.onload = function() {
            document.querySelector('#contact-form').addEventListener('submit', function(e) {
                e.preventDefault()
                //clearTimeout(removeMessage)
                const message = document.querySelector('#contact-message').lastElementChild
                const firstName = document.querySelector('#first-name').value
                const lastName = document.querySelector('#last-name').value
                const email = document.querySelector('#email').value
                const phone = document.querySelector('#phone').value
                const company = document.querySelector('#company').value
                const messageContent = document.querySelector('#message-content').value
                const form_submit = document.querySelector('#message-submit')
                const allInputValues = [firstName, lastName, email, phone, messageContent]
                if (firstName.length < 1) {
                    document.querySelector('#first-name').classList.add('error')
                }
                if (lastName.length < 1) {
                    document.querySelector('#last-name').classList.add('error')
                }
            /*    if (messageContent.length < 10) {
                    document.querySelector('#message-content').classList.add('error')
                }*/
                if (email.length < 1 && phone.length < 1) {
                    document.querySelector('#email').classList.add('error')
                    document.querySelector('#phone').classList.add('error')
                }
                if (email.length < 1 && phone.length < 4) {
                    document.querySelector('#phone').classList.add('error')
                }
                if (phone.length > 0 && phone.length < 4) {
                    document.querySelector('#phone').classList.add('error')
                }
                if (!allInputValues.find(input => input.length > 0)) {
                    message.textContent = "You didn't input any info"
                    contactMessage('error')
                }
                else if (firstName === '' && lastName === '') {
                    message.textContent = "Please enter your name"
                    contactMessage('error')
                }
                else if (firstName === '') {
                    message.textContent = "Please enter your first name"
                    contactMessage('error')
                }
            /*    else if (firstName.length < 2) {
                    message.textContent = "First name too short"
                    contactMessage('error')
                }*/
                else if (lastName === '') {
                    message.textContent = "Please enter your last name"
                    contactMessage('error')
                }
            /*    else if (lastName.length < 2) {
                    message.textContent = "Last name too short"
                    contactMessage('error')
                }*/
                else if (email === '' && phone === '') {
                    message.textContent = 'Please enter a phone number or an email address'
                    contactMessage('error')
                }
                else if (email.length < 1 && phone.length < 4) {
                    message.textContent = 'Phone number too short'
                    contactMessage('error')
                }
                else if (
                    !email.includes('@')
                    || !email.includes('.')
                    || email.indexOf('@') > email.lastIndexOf('.')
                    || email.indexOf('@') !== email.lastIndexOf('@')
                    || email.indexOf('@') == 0
                    || email.lastIndexOf('@') == email.length-1
                    || email.lastIndexOf('.') == email.length-1
                ) 
                {
                    document.querySelector('#email').classList.add('error')
                    message.textContent = 'Invalid email address'
                    contactMessage('error')
                }
                else if (!email.includes('.com')) {
                    message.textContent = 'Untrusted domain'
                    contactMessage('warning')
                }
                else if (phone.length > 0 && phone.length < 4) {
                    message.textContent = 'Phone number too short'
                    contactMessage('error')
                }
            /*    else if (messageContent.length < 10){
                    message.textContent = 'Message too short'
                    contactMessage('error')
                }*/
                else {
                    // these IDs from the previous steps
                    console.log(emailjs)
                    form_submit.classList.add('loading')
                    emailjs.sendForm('service_wjylylh', 'contact_form', document.querySelector('#contact-form'))
                        .then(function() {
                            console.log('SUCCESS!');
                            message.textContent = "Message sent"
                            contactMessage('success')
                            setTimeout(contactMessage, 4000)
                            form_submit.classList.remove('loading')
                        }, function(error) {
                            console.log('FAILED...', error);
                            message.textContent = "An error has occured"
                            contactMessage('error')
                        });
                }
                //removeMessage = setTimeout(contactMessage, 7000)
            })
        }
    </script>
    <script>
    const input = document.querySelector("#phone");
    window.intlTelInput(input, {
        // any initialisation options go here
        initialCountry: 'eg',
        preferredCountries: []
    });
    </script>
    <script src="main.js" type="module"></script>
    <script src="contact-validation.js"></script>
</body>
</html>